<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Json</title>

    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<script>
    //Tämä funkio muodostaa haetusta json datasta html-elementit
    function kerro(data) {

        let tiedot = "<h1>" + data.otsikko + "</h1><br>" + data.kuvaus + "<br><hr>" + "<p><img src= " + data.kuva + "></p>" + "<h3>Opintojakso</h3>" + "Nimi: " + data.opintojakso.nimi + "<br>"
            + "Tunnus: " + data.opintojakso.tunnus + "<br>"
            + "Opintopisteet: " + data.opintojakso.opintopisteet + "<br>";


        tiedot += "<p><h3>Aiheet</h3>"

        for (let i = 0; i < data.tekniikat.length; i++) {
            tiedot += "<b>Aihe: " + data.tekniikat[i].aihe + "</b>"
            tiedot += "<a href=" + data.tekniikat[i].linkki + "> " + data.tekniikat[i].linkki + "</a><br>"
        }

        tiedot += "</p>";

        document.getElementById("jsonData").innerHTML = tiedot

    }

    //Hae data fetch-pyynnöllä
    //Muuta haettu data json-objektiksi
    //Välitä json-data kerro-funktiolla
    //Jos virhe, aseta html:ään virheilmoitus
    fetch("https://veerahei.github.io/tietue.json")
        .then(response => response.json())
        .then(data => kerro(data))
        .catch(error => document.getElementById("jsonData").innerHTML = "<p>Tietoa ei voida hakea</p>")

</script>

<body>
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">

        <div class="container-fluid">

            <a class="navbar-brand" href="#">Logo</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">

                <span class="navbar-toggler-icon"></span>

            </button>

            <div class="collapse navbar-collapse" id="collapsibleNavbar">

                <ul class="navbar-nav">

                    <li class="nav-item">

                        <a class="nav-link" href="#">Link</a>

                    </li>

                    <li class="nav-item">

                        <a class="nav-link" href="#">Link</a>

                    </li>

                    <li class="nav-item">

                        <a class="nav-link" href="#">Link</a>

                    </li>

                    <li class="nav-item dropdown">

                        <a class="nav-link dropdown-toggle" href="#" role="button"
                            data-bs-toggle="dropdown">Dropdown</a>

                        <ul class="dropdown-menu">

                            <li><a class="dropdown-item" href="#">Link</a></li>

                            <li><a class="dropdown-item" href="#">Another link</a></li>

                            <li><a class="dropdown-item" href="#">A third link</a></li>

                        </ul>

                    </li>

                </ul>

            </div>

        </div>

    </nav>

    <!--Tehtävä 1: osa 1-->
    <div id="jsonData">

    </div>
</body>

</html>